<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User-Search</title>
    <link href="{% static 'css/user-home.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/nicepage.css' %}" media="screen">
    <link rel="stylesheet" href="{%static 'css/footer.css' %}" media="screen">
  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
   
    <link rel="stylesheet" href="{% static 'css/Home.css' %}" media="screen">
    <link rel="stylesheet" href="{% static 'css/r-form.css' %}" media="screen">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script class="u-script" type="text/javascript" src="{% static 'js/jquery.js' %}" defer=""></script>
    <script class="u-script" type="text/javascript" src="{% static 'js/nicepage.js' %}" defer=""></script>
    <script type="module" src="{% static 'js/location.js' %}"></script>
    <meta name="generator" content="Nicepage 4.10.5, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="{% static 'js/sweetalert.min.js' %}"></script>
    
    <style>
      .main{ 
        background: url("{% static 'images/fgfg-min.jpg' %}");
        background-position: center;
        background-size: cover;
        background-repeat: no-repeat;
        width: 100%;
        height: 1100px;
        margin-top: 10px;
      }
      .demo{
      
      font-size: 50px;
      position: absolute;
      margin-left: 500px;
      margin-top: 150px;
      color: rgb(61, 61, 235);
    }
    .demo1 {
      font-size: 20px;
      position: absolute;
      margin-left: 150px;
      margin-right: 200px;
      margin-top: 210px;
      color: rgb(228, 56, 73);
    }
    .custom-map-control-button {
    background-color: #fff;
    border: 0;
    border-radius: 2px;
    box-shadow: 0 1px 4px -1px rgba(0, 0, 0, 0.3);
    margin: 10px;
    padding: 0 0.5em;
    font: 400 18px Roboto, Arial, sans-serif;
    overflow: hidden;
    height: 40px;
    cursor: pointer;
    }
    .custom-map-control-button:hover {
    background: rgb(235, 235, 235);
    }
      </style>
    
</head>
<body>
    <div class="page-wrapper">
        <div class="nav-wrapper">
         <div class="grad-bar">
          
         </div>
         <nav class="navbar">
             
          <div style="margin-left: 50px;">
            <span>Welcome {{login.user_name}}</span>
          </div>
           
           <div class="menu-toggle" id="mobile-menu">
             <span class="bar"></span>
             <span class="bar"></span>
             <span class="bar"></span>
           </div>
           <ul class="nav">
             <li class="nav-item"><a href="{% url 'user_home' %}">Home</a></li>
             <li class="nav-item"><a href="{% url 'search_location' %}">Search Location</a></li>
             <li class="nav-item"style="margin-left: 10px;"><a href="{% url 'user_search' %}">User Search</a></li>
             
             <li class="nav-item" style="margin-left: 10px;"><a href="{% url 'notification' %}">Notification</a></li>
             
             
             <li class="nav-item"><a href="{% url 'home' %}">Logout</a></li>
             
           </ul>
         </nav>
         </div>
         <section class="vh-100 main" style="background-color: #9A616D; margin-bottom: 70px;">
          <div class="container py-5 h-100">
            <div class="row  justify-content-center align-items-center h-100">
              <div class="col col-xl-10">
                <div class="card" style="border-radius: 1rem;">
                  <div class="row g-0">
                    <div class="col-md-6 col-lg-5 d-none d-md-block">
                      
                      {% if demo is none %}
                      
                      <div class="text-black" style="margin-top: 300px; color: black;"><p class="text-black">plase enter key</p></div>
                      {% else %}
                      <div id="demo" style="border-radius: 0.5rem ; height: 550px;"></div>
                      {% endif %}
                    </div>
                      
                    <div class="col-md-6 col-lg-7 align-items-center">
                      <div class="card-body p-4 p-lg-5 text-black">
                        {% if demo is none %}
                        <form method="post" enctype="multipart/form-data">
                          {%csrf_token%}
                          <div class="form-outline mb-2">
                            <label class="form-label" for="form2Example27">Enter Key</label>
                            <input type="text" name="key" class="form-control form-control-lg" />
                          </div>
                          <div class="pt-1 mb-2">
                            <button class="btn btn-dark btn-lg btn-block" type="submit">Submit</button>
                          </div>
                        </form>
                        {% else %}
                        <div class="dem" hidden>
                        <form method="post" enctype="multipart/form-data">
                          {%csrf_token%}
                          <div class="form-outline mb-2">
                            <label class="form-label" for="form2Example27">Enter Key</label>
                            <input type="text" name="key" class="form-control form-control-lg" />
                          </div>
                          <div class="pt-1 mb-2">
                            <button class="btn btn-dark btn-lg btn-block" type="submit">Submit</button>
                          </div>
                        </form>
                      </div>
                        {% endif %}
                        
                          <div class="form-outline mb-2" >
                            <label class="form-label" for="form2Example17">latitude</label>
                            <textarea id="latt" style="width: 100%; height: 50px;"  class="form-control form-control-lg" data-value="{{demo}}">{{demo}}</textarea>
                          </div>
                         
                      
                          <div class="form-outline mb-2" >
                            <label class="form-label" for="form2Example27">longitude</label>
                            <textarea  type="text" id="longt"  name="long" style="width: 100%; height: 50px;"  class="form-control form-control-lg" data-value="{{demo1}}">{{demo1}}</textarea>
                          </div>
                         
                          
                          

                          
                          <div class="form-outline mb-2">
                            <label class="form-label" for="form2Example27">To Whom</label>
                            <input type="text" name="whom" readonly class="form-control form-control-lg" value="{{demo2}}" />
                          </div>
                          

                         
                          <div class="form-outline mb-2">
                            <label class="form-label" for="form2Example27">Content</label>
                            <input type="text" name="text" readonly  class='form-control form-control-lg' value="{{demo3}}">
                          </div>
                          

                          
                          <div class="form-outline mb-2">
                            <label class="form-label" for="form2Example27">Secret Message</label>
                            <input type="text" name="msg" readonly class="form-control form-control-lg" value="{{demo4}}"/>
                          </div>
                          
                          
        
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
         
       </div>
       
       <div class="footer-dark">
        <footer>
            <div class="container">
                <div class="row">
                    <div class="col-sm-6 col-md-3 item">
                        <h3>Services</h3>
                        <ul>
                            <li><a href="#">Web design</a></li>
                            <li><a href="#">Development</a></li>
                            <li><a href="#">Hosting</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-6 col-md-3 item">
                        <h3>About</h3>
                        <ul>
                            <li><a href="#">Company</a></li>
                            <li><a href="#">Team</a></li>
                            <li><a href="#">Careers</a></li>
                        </ul>
                    </div>
                    <div class="col-md-6 item text">
                      <h3>Preserving Location Privacy in Geosocial Application</h3>
                      <p>Google Maps is great for getting directions to far off cities and obscure shopping plazas. But what if you open 
                        it up only to realize that you have no idea where you are right now? That's not a problem. Every version of Google Maps has a "Current Location" button. 
                        Tap this, and the map will zoom over to your exact location - give or take a few hundred feet.</p>
                  
                    </div>
                    <div class="col item social"><a href="#"><i class="icon ion-social-facebook"></i></a><a href="#"><i class="icon ion-social-twitter"></i></a><a href="#"><i class="icon ion-social-snapchat"></i></a><a href="#"><i class="icon ion-social-instagram"></i></a></div>
                </div>
                <p class="copyright">All Right Recevied by Codebook.In Â© 2018</p>
            </div>
        </footer>
    </div>
    
              <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
              <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
          
  </body>
  <script type="text/javascript"> 
    if(navigator.geolocation){ 
             navigator.geolocation.getCurrentPosition(showPos, showErr); 
         }
         else{
             alert("Sorry! your Browser does not support Geolocation API")
         }
     //Showing Current Poistion on Google Map
     function showPos(position){ 
          tag = (parseFloat(document.getElementById('latt').dataset.value));
          tages = (parseFloat(document.getElementById('longt').dataset.value)); 
         
         latt = tag; 
         long = tages; 
         var lattlong = new google.maps.LatLng(latt, long); 
         var myOptions = { 
             center: lattlong, 
             zoom: 15, 
             mapTypeControl: true, 
             navigationControlOptions: {style:google.maps.NavigationControlStyle.SMALL} 
         } 
         var maps = new google.maps.Map(document.getElementById("demo"), myOptions); 
         var markers = 
         new google.maps.Marker({position:lattlong, map:maps, title:"You are here!"}); 
     } 

     //Handling Error and Rejection
          function showErr(error) {
           switch(error.code){
           case error.PERMISSION_DENIED:
          alert("User denied the request for Geolocation API.");
           break;
          case error.POSITION_UNAVAILABLE:
          alert("USer location information is unavailable.");
         break;
         case error.TIMEOUT:
         alert("The request to get user location timed out.");
         break;
        case error.UNKNOWN_ERROR:
         alert("An unknown error occurred.");
         break;
        }
     }        </script> 
     <script
     src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCPvZ6iJ7VK3efwaNFbHQY5fE__t8avXbo&callback=initMap&v=weekly"
     defer
   ></script>
      <script>
				{% for msg in messages %} 
						   
				   swal( "Server Response", "{{msg}}");
			   {% endfor %} 
		   </script>
       
   
</html>